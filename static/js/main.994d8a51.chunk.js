(this["webpackJsonpapi-app"]=this["webpackJsonpapi-app"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(23),s=n.n(a),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},o=n(6),j=n(27),u=n(8),l="LOGIN_SUCCESS",d="LOGIN_FAIL",b="LOGOUT",h="USERS_LOADED",O="USER_CREATE",x="USER_UPDATE",m="USER_DELETE",p="USER_LOADED",f="BOOKS_LOADED",g="BOOK_CREATE",v="BOOK_UPDATE",y="BOOK_DELETE",w="BOOK_LOADED",k="AUTHORS_LOADED",C="AUTHOR_CREATE",S="AUTHOR_UPDATE",N="AUTHOR_DELETE",E="AUTHOR_LOADED",R="CATEGORIES_LOADED",P="CATEGORY_CREATE",F="CATEGORY_UPDATE",D="CATEGORY_DELETE",B="CATEGORY_LOADED",L={token:null,user:null,isLogin:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object.assign({},e,Object(u.a)(Object(u.a)({},t.payload),{},{isLogin:!0}));case d:case b:return Object.assign({},e,L)}return e},T=n(19),U={list:[],pagination:null,book:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object.assign({},e,{list:t.payload.data,pagination:t.payload.pagination});case w:return Object.assign({},e,{book:t.payload});case y:var n=e.list.filter((function(e){return e.id!==t.payload}));return Object.assign({},e,{list:n});case v:case g:return Object.assign({},e,{list:[].concat(Object(T.a)(e.list),[t.payload])});default:return e}},z={list:[],category:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object.assign({},e,{list:t.payload});case B:return Object.assign({},e,{category:t.payload});case P:case F:return Object.assign({},e,{list:[].concat(Object(T.a)(e.list),[t.payload])});case D:var n=e.list.filter((function(e){return e.id!==t.payload}));return Object.assign({},e,{list:n});default:return e}},G={pagination:null,list:[],user:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object.assign({},e,{pagination:t.payload.pagination,list:t.payload.data});case p:return Object.assign({},e,{user:t.payload});case O:case x:return Object.assign({},e,{list:[].concat(Object(T.a)(e.list),[t.payload])});case m:var n=e.list.filter((function(e){return e.id!==t.payload}));return Object.assign({},e,{list:n});default:return e}},Y={list:[],author:null},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object.assign({},e,{list:t.payload});case E:return Object.assign({},e,{author:t.payload});case C:case S:return Object.assign({},e,{list:[].concat(Object(T.a)(e.list),[t.payload])});case N:var n=e.list.filter((function(e){return e.id!==t.payload}));return Object.assign({},e,{list:n});default:return e}},H=Object(j.c)({authReducer:A,bookReducer:I,categoryReducer:_,userReducer:q,authorReducer:J}),K=n(80),M=Object(j.d)(H,Object(j.a)(K.a)),W=(n(93),n(10)),Q=n(13),V=(n(94),n(12)),X=n(7),Z=n(81),$=n.n(Z).a.create({baseURL:"https://nga-book-api.herokuapp.com/api/v1",headers:{"Content-Type":"application/json;charset=utf8"}}),ee=n(3),te=n(2),ne=function(e){var t=Object(c.useState)({username:"",password:""}),n=Object(X.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(X.a)(s,2),j=i[0],b=i[1],h=Object(o.b)(),O=Object(o.c)((function(e){return e.authReducer.isLogin}));function x(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(V.a)({},n,c))}))}return Object(c.useEffect)((function(){j&&h(function(e,t){return function(n){return console.log("login"),$.post("/auths/login",{username:e.username,password:e.password}).then((function(e){n({type:l,payload:{token:e.data.token,user:e.data.user}}),t.history.push("/home")})).catch((function(e){return n({type:d,payload:"Login fail!"})}))}}(r,e))}),[j]),Object(te.jsx)(te.Fragment,{children:O?Object(te.jsx)(Q.a,{to:"/home"}):Object(te.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(te.jsx)(ee.k,{children:Object(te.jsx)(ee.B,{className:"justify-content-center",children:Object(te.jsx)(ee.j,{md:"8",children:Object(te.jsxs)(ee.h,{children:[Object(te.jsx)(ee.e,{className:"p-4",children:Object(te.jsx)(ee.f,{children:Object(te.jsxs)(ee.q,{onSubmit:function(e){e.preventDefault(),b(""!==r.username||""!==r.password),j||console.log("you have to enter the login!!")},children:[Object(te.jsx)("h1",{children:"Login"}),Object(te.jsx)("p",{className:"text-muted",children:"Sign In to your account"}),Object(te.jsx)(ee.t,{className:"mb-3",children:Object(te.jsx)(ee.s,{type:"text",name:"username",value:r.username,placeholder:"Username",onInput:x})}),Object(te.jsx)(ee.t,{className:"mb-4",children:Object(te.jsx)(ee.s,{type:"password",name:"password",value:r.password,placeholder:"Password",onInput:x})}),Object(te.jsxs)(ee.B,{children:[Object(te.jsx)(ee.j,{xs:"6",children:Object(te.jsx)(ee.d,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),Object(te.jsx)(ee.j,{xs:"6",className:"text-right",children:Object(te.jsx)(ee.d,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),Object(te.jsx)(ee.e,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"},children:Object(te.jsx)(ee.f,{className:"text-center",children:Object(te.jsxs)("div",{children:[Object(te.jsx)("h2",{children:"Sign up"}),Object(te.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(te.jsx)(W.b,{to:"/register",children:Object(te.jsx)(ee.d,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})})},ce=function(e){var t=Object(o.c)((function(e){return e.authReducer.isLogin}));return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h1",{children:"Menu:"}),t?Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/users",children:"User"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/books",children:"Book"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/authors",children:"Author"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/categories",children:"Category"})})]}):Object(te.jsx)(Q.a,{to:"/"})]})},re=function(e){var t=Object(o.c)((function(e){return e.authReducer.isLogin}));return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h1",{children:"UserMenu"}),t?Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/users/all",children:"Get All Users"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/users/new",children:"Add a new user"})})]}):Object(te.jsx)(Q.a,{to:"/"})]})},ae=function(e){var t=Object(o.c)((function(e){return e.authReducer.isLogin}));return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h1",{children:"BookMenu"}),t?Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/books/all",children:"Get All Books"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/books/new",children:"Add a new book"})})]}):Object(te.jsx)(Q.a,{to:"/"})]})},se=n(5),ie=n.n(se),oe=n(9),je=function(){var e=M.getState(),t=M?e.authReducer.token:null;return{Authorization:!!M&&e.authReducer.isLogin&&t?"Bearer ".concat(t):null}},ue=function(e,t,n){var c={url:e,headers:je(),params:null,data:null};"GET"==n?c.params=t:c.data=t;var r=function(e,t){switch(t.toUpperCase()){case"PUT":return Object(u.a)({method:"PUT"},e);case"DELETE":return Object(u.a)({method:"DELETE"},e);case"POST":return Object(u.a)({method:"POST"},e);default:return Object(u.a)({method:"GET"},e)}}(c,n);return new Promise((function(e,t){$(r).then((function(t){e(t)})).catch(t)}))},le=function(e){return function(t){return ue("/books?",{pageNumber:e,pageSize:10},"GET").then((function(e){return t({type:f,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},de=function(e){return function(t){return ue("/books/".concat(e),null,"GET").then((function(e){return t({type:w,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},be=function(e){return function(t){return ue("/books/",e,"POST").then((function(e){return t({type:g,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},he=function(e,t){return function(n){return ue("/books/".concat(t),e,"PUT").then((function(e){return n({type:v,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},Oe=function(e){return function(t){return ue("/books/".concat(e),null,"DELETE").then((function(n){return t({type:y,payload:e}),n.status})).catch((function(e){return e.response.status}))}},xe=n(38),me=function(e){return function(t){return ue("/authors",{pageNumber:e,pageSize:10},"GET").then((function(e){return t({type:k,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},pe=function(e){return function(t){return ue("/authors/".concat(e),null,"GET").then((function(e){return t({type:E,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},fe=function(e){return function(t){return ue("/authors/",e,"POST").then((function(e){return t({type:C,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},ge=function(e,t){return function(n){return ue("/authors/".concat(t),e,"PUT").then((function(e){return n({type:S,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},ve=function(e){return function(t){return ue("/authors/".concat(e),null,"DELETE").then((function(n){return t({type:N,payload:e}),n.status})).catch((function(e){return e.response.status}))}},ye=function(e){return function(t){return ue("/categories/",{pageNumber:e,pageSize:10},"GET").then((function(e){return t({type:R,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},we=function(e){return function(t){return ue("/categories/".concat(e),null,"GET").then((function(e){return t({type:B,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},ke=function(e){return function(t){return ue("/categories/",e,"POST").then((function(e){return t({type:P,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},Ce=function(e,t){return function(n){return ue("/categories/".concat(t),e,"PUT").then((function(e){return n({type:F,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},Se=function(e){return function(t){return ue("/categories/".concat(e),null,"DELETE").then((function(n){return t({type:D,payload:e}),n.status})).catch((function(e){return e.response.status}))}},Ne=function(e){return function(t){return ue("/users?",{pageSize:5,pageNumber:e},"GET").then((function(e){return t({type:h,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},Ee=function(e){return function(t){return ue("/users?",e,"POST").then((function(e){return t({type:h,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},Re=function(e,t){return function(n){return ue("/users/".concat(t),e,"PUT").then((function(e){return n({type:x,payload:e.data}),e.status})).catch((function(e){return e.response.status}))}},Pe=(n(123),function(e){var t=Object(o.b)(),n=Object(c.useState)(1),r=Object(X.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){a!==e.totalPages&&s(e.totalPages)}),[e.totalPages]);for(var i=[],j=function(){var n=Object(oe.a)(ie.a.mark((function n(c){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type.toUpperCase(),n.next="USER"===n.t0?3:"BOOK"===n.t0?6:"AUTHOR"===n.t0?9:"CATEGORY"===n.t0?12:15;break;case 3:return n.next=5,t(Ne(c.toString()));case 5:return n.abrupt("break",15);case 6:return n.next=8,t(le(c.toString()));case 8:return n.abrupt("break",15);case 9:return n.next=11,t(me(c.toString()));case 11:return n.abrupt("break",15);case 12:return n.next=14,t(ye(c.toString()));case 14:return n.abrupt("break",15);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(t){i.push(Object(te.jsx)(xe.a.Item,{active:t===e.currentPage,onClick:function(){return j(t)},children:t},t))},l=1;l<=a;l++)u(l);return Object(te.jsxs)(xe.a,{className:"pagination--center",children:[Object(te.jsx)(xe.a.Prev,{disabled:1===e.currentPage,onClick:function(){return j(e.currentPage-1)}}),i,Object(te.jsx)(xe.a.Next,{disabled:e.currentPage===a,onClick:function(){return j(e.currentPage+1)}})]})}),Fe=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.bookReducer.list})),r=Object(o.c)((function(e){return e.authReducer.isLogin})),a=Object(o.c)((function(e){return e.bookReducer.pagination})),s=Object(c.useState)(1),i=Object(X.a)(s,2),j=i[0],u=i[1],l=Object(c.useState)(1),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)(!0),x=Object(X.a)(O,2),m=x[0],p=x[1];a&&j!==a.currentPage&&(u(a.currentPage),h(a.totalPages));var f=function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(le(j.toString()));case 2:200!==+e.sent&&0===n.length||p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){f()}),[m,t]),Object(c.useEffect)((function(){a&&(u(a.currentPage),h(a.totalPages))}),[a,n]),console.log("pagination: ",a),console.log("list: ",n);var g={author:function(e){return Object(te.jsxs)("td",{children:[" ",e.author.name," "]})}};return Object(te.jsx)(te.Fragment,{children:r?Object(te.jsx)(ee.B,{children:Object(te.jsx)(ee.j,{xl:12,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h1",{children:"Books List"})}),Object(te.jsx)(ee.f,{children:Object(te.jsx)(ee.l,{items:n,fields:[{key:"name",_classes:"font-weight-bold"},{key:"author",label:"Author"},"year","price"],scopedSlots:g,hover:!0,loading:m,striped:!0,itemsPerPage:5,clickableRows:!0,onRowClick:function(t){return e.history.push("/books/".concat(t.id))}})}),Object(te.jsx)(ee.g,{children:Object(te.jsx)(Pe,{type:"book",totalPages:b,currentPage:j})})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},De=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(c.useState)(!1),a=Object(X.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)({name:"",description:"",price:0,year:0,author:{id:0,name:"",website:"",birthday:"",cover:""},publisher:"",cover:"",categories:[{id:0,name:"",description:""}]}),l=Object(X.a)(j,2),d=l[0],b=l[1],h=Object(c.useState)({name:!1,description:!1,price:!1,year:!1,authorId:!1,authorName:!1,authorBirthday:!1,authorCover:!1,publisher:!1,cover:!1}),O=Object(X.a)(h,2),x=O[0],m=O[1],p=function(e){var t=e.target,n=t.name,c=t.value,r="price"===n?parseFloat(c):"year"===n?+c:c;b(Object(u.a)(Object(u.a)({},d),{},Object(V.a)({},n,r)))},f=function(e){var t=e.target,n=t.name,c=t.value,r="id"===n?+c:c;b(Object(u.a)(Object(u.a)({},d),{},{author:Object(u.a)(Object(u.a)({},d.author),{},Object(V.a)({},n,r))}))},g=function(e){var t=e.target,n=t.name,c=t.value,r="id"===n?+c:c,a=d.categories;a=a.length?a.map((function(e){return Object.keys(e).includes(n)?e:Object(u.a)(Object(u.a)({},e),{},Object(V.a)({},n,r))})):[].concat(Object(T.a)(a),[Object(V.a)({},n,r)]),b(Object(u.a)(Object(u.a)({},d),{},{categories:a}))},v=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y(d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({name:null===t.name,description:""===t.description,price:t.price<=0&&null===t.price,year:t.year<=0&&null===t.year,authorId:0===t.author.id&&null===t.author.id,authorName:""===t.author.name,authorBirthday:""===t.author.birthday,authorCover:""===t.author.cover,publisher:""===t.publisher,cover:""===t.cover}),i(null!==t&&0!==Object.values(x).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(be(JSON.stringify(d)));case 2:200===+n.sent&&e.history.push("/books/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){s&&w()}),[x,s]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"Book Information"})}),Object(te.jsxs)(ee.q,{onSubmit:v,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.name,id:"name",name:"name",value:d.name,onChange:p}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"description",children:"Description"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.description,id:"description",name:"description",value:d.description,onChange:p}),Object(te.jsx)(ee.u,{children:"Description cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"price",children:"Price"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.price,id:"price",name:"price",value:d.price,onChange:p}),Object(te.jsx)(ee.u,{children:"Price cannot be empty and should be greater than 0"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"year",children:"Year"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.year,id:"year",name:"year",value:d.year,onChange:p}),Object(te.jsx)(ee.u,{children:"Year cannot be empty and should be greater than 0"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"publisher",children:"Publisher"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.publisher,id:"publisher",name:"publisher",value:d.publisher,onChange:p}),Object(te.jsx)(ee.u,{children:"Publisher cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"cover",children:"Cover"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{id:"cover",name:"cover",value:d.cover,onChange:p})})]})]}),Object(te.jsxs)(ee.f,{children:[Object(te.jsx)("h5",{children:"Author"}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"id",children:"ID"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.authorId,id:"ID",name:"id",value:d.author.id,onChange:f}),Object(te.jsx)(ee.u,{children:"ID of author cannot be empty and should be greater than 0"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.authorName,id:"name",name:"name",value:d.author.name,onChange:f}),Object(te.jsx)(ee.u,{children:"Name of author cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"website",children:"Website"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{id:"website",name:"website",value:d.author.website,onChange:f})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"birthday",children:"Birthday"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.authorBirthday,id:"birthday",name:"birthday",value:d.author.birthday,onChange:f}),Object(te.jsx)(ee.u,{children:"Birthday of author cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"cover",children:"Cover"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.authorCover,id:"cover",name:"cover",value:d.author.cover,onChange:f}),Object(te.jsx)(ee.u,{children:"Cover image of author cannot be empty"})]})]})]}),Object(te.jsxs)(ee.f,{children:[Object(te.jsx)("h5",{children:"Categories"}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"id",children:"ID"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{invalid:!1,id:"ID",name:"id",value:d.categories[0].id,onChange:g})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{invalid:!1,id:"name",name:"name",value:d.categories[0].name,onChange:g})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"description",children:"Description"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{invalid:!1,id:"description",name:"description",value:d.categories[0].description,onChange:g})})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Create"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},Be=function(e){var t=Object(o.c)((function(e){return e.authReducer.isLogin}));return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h1",{children:"Author"}),t?Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/authors/all",children:"Get All Authors"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/authors/new",children:"Add a new Authors"})})]}):Object(te.jsx)(Q.a,{to:"/"})]})},Le=function(e){var t=Object(o.c)((function(e){return e.authReducer.isLogin}));return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h1",{children:"Category"}),t?Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/categories/all",children:"Get All Categorys"})}),Object(te.jsx)("li",{children:Object(te.jsx)(W.b,{to:"/categories/new",children:"Add a new Category"})})]}):Object(te.jsx)(Q.a,{to:"/"})]})},Ae=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.bookReducer.book})),a=Object(c.useState)(!1),s=Object(X.a)(a,2),i=s[0],j=s[1],l=Object(c.useState)(Object(u.a)({},r)),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)({name:!1,description:!1,price:!1,year:!1,authorId:!1,authorName:!1,authorBirthday:!1,authorCover:!1,publisher:!1}),x=Object(X.a)(O,2),m=x[0],p=x[1],f=function(e){var t,n=e.target,c=n.name,r=n.value;t=""===r?null:r,console.log(c,""===r),h(Object(u.a)(Object(u.a)({},b),{},Object(V.a)({},c,t)))},g=function(e){var t=e.target,n=t.name,c=t.value,r="id"===n?10:c;console.log(n,c),h(Object(u.a)(Object(u.a)({},b),{},{author:Object(u.a)(Object(u.a)({},b.author),{},Object(V.a)({},n,r))}))},v=function(e){var t=e.target,n=t.name,c=t.value,r="id"===n?10:c;console.log("name: ",n);var a=b.categories;a=a.length?a.map((function(e){return Object.keys(e).includes(n)?e:Object(u.a)(Object(u.a)({},e),{},Object(V.a)({},n,r))})):[].concat(Object(T.a)(a),[Object(V.a)({},n,r)]),h(Object(u.a)(Object(u.a)({},b),{},{categories:a}))},y=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,w(b);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({name:null===t.name,description:""===t.description,price:t.price<=0&&null===t.price,year:t.year<=0&&null===t.year,authorId:0===t.author.id&&null===t.author.id,authorName:""===t.author.name,authorBirthday:""===t.author.birthday,authorCover:""===t.author.cover,publisher:""===t.publisher}),j(null!==t&&0!==Object.values(m).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(he(JSON.stringify(b),+e.match.params.id));case 2:200===+n.sent&&e.history.push("/books/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){i&&k()}),[m,i]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"Book Information"})}),Object(te.jsxs)(ee.q,{onSubmit:y,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.name,id:"name",name:"name",value:b.name,onChange:f}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"description",children:"Description"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.description,id:"description",name:"description",value:b.description,onChange:f}),Object(te.jsx)(ee.u,{children:"Description cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"price",children:"Price"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.price,id:"price",name:"price",value:b.price,onChange:f}),Object(te.jsx)(ee.u,{children:"Price cannot be empty and should be greater than 0"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"year",children:"Year"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.year,id:"year",name:"year",value:b.year,onChange:f}),Object(te.jsx)(ee.u,{children:"Year cannot be empty and should be greater than 0"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"publisher",children:"Publisher"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.publisher,id:"publisher",name:"publisher",value:b.publisher,onChange:f}),Object(te.jsx)(ee.u,{children:"Publisher cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"cover",children:"Cover"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{id:"cover",name:"cover",value:b.cover,onChange:f})})]})]}),Object(te.jsxs)(ee.f,{children:[Object(te.jsx)("h5",{children:"Author"}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"id",children:"ID"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.authorId,id:"ID",name:"id",value:b.author.id,onChange:g}),Object(te.jsx)(ee.u,{children:"ID of author cannot be empty and should be greater than 0"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.authorName,id:"name",name:"name",value:b.author.name,onChange:g}),Object(te.jsx)(ee.u,{children:"Name of author cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"website",children:"Website"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{id:"website",name:"website",value:b.author.website,onChange:g})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"birthday",children:"Birthday"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.authorBirthday,id:"birthday",name:"birthday",value:b.author.birthday,onChange:g}),Object(te.jsx)(ee.u,{children:"Birthday of author cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"cover",children:"Cover"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.authorCover,id:"cover",name:"cover",value:b.author.cover,onChange:g}),Object(te.jsx)(ee.u,{children:"Cover image of author cannot be empty"})]})]})]}),Object(te.jsxs)(ee.f,{children:[Object(te.jsx)("h5",{children:"Categories"}),b.categories.length?b.categories.map((function(e){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"id",children:"ID"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{invalid:!1,id:"ID",name:"id",value:e.id,onChange:v})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{invalid:!1,id:"name",name:"name",value:e.name,onChange:v})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"description",children:"Description"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{invalid:!1,id:"description",name:"description",value:e.description,onChange:v})})]})]})})):null]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Save changes"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},Te=(n(124),n(24)),Ue=n.n(Te),Ie=[{path:"/",component:ne,exact:!0},{path:"/home",component:ce,exact:!1},{path:"/users",component:re,exact:!0},{path:"/users/all",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.userReducer.list})),r=Object(o.c)((function(e){return e.authReducer.isLogin})),a=Object(o.c)((function(e){return e.userReducer.pagination})),s=Object(c.useState)(1),i=Object(X.a)(s,2),j=i[0],u=i[1],l=Object(c.useState)(1),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)(!0),x=Object(X.a)(O,2),m=x[0],p=x[1];a&&j!==a.currentPage&&(u(a.currentPage),h(a.totalPages));var f=function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ne(j.toString()));case 2:200===+e.sent&&p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f()}),[m,t]),Object(c.useEffect)((function(){a&&(u(a.currentPage),h(a.totalPages))}),[a]),console.log("pagination: ",a),Object(te.jsx)(te.Fragment,{children:r?Object(te.jsx)(ee.B,{children:Object(te.jsx)(ee.j,{xl:12,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h1",{children:"Users List"})}),Object(te.jsx)(ee.f,{children:Object(te.jsx)(ee.l,{items:n,fields:[{key:"name",_classes:"font-weight-bold"},"username","role"],hover:!0,loading:m,striped:!0,itemsPerPage:5,clickableRows:!0,onRowClick:function(t){return e.history.push("/users/edit/".concat(t.id))}})}),Object(te.jsx)(ee.g,{children:Object(te.jsx)(Pe,{type:"user",totalPages:b,currentPage:j})})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/users/new",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(c.useState)(!1),a=Object(X.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)({name:"",username:"",password:"",role:""}),l=Object(X.a)(j,2),d=l[0],b=l[1],h=Object(c.useState)({name:!1,username:!1,password:!1,role:!1}),O=Object(X.a)(h,2),x=O[0],m=O[1],p=function(e){var t=e.target,n=t.name,c=t.value;b(Object(u.a)(Object(u.a)({},d),{},Object(V.a)({},n,c)))},f=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({name:""===t.name,password:""===t.password,username:""===t.username,role:""===t.role}),i(null!==t&&0!==Object.values(x).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var n=Object(oe.a)(ie.a.mark((function n(){var c;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Ee(d));case 2:c=n.sent,n.t0=+c,n.next=200===n.t0?6:8;break;case 6:return e.history.push("/users/all"),n.abrupt("break",10);case 8:return console.log("Username existed"),n.abrupt("break",10);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){s&&v()}),[x,s]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"User Information"})}),Object(te.jsxs)(ee.q,{onSubmit:f,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.name,id:"name",name:"name",value:d.name,onChange:p}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"username",children:"Username"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.username,id:"username",name:"username",value:d.username,onChange:p}),Object(te.jsx)(ee.u,{children:"Username cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"password",children:"Password"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.password,id:"password",name:"password",value:d.password,onChange:p}),Object(te.jsx)(ee.u,{children:"Password cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"role",children:"Role"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.role,id:"role",name:"role",value:d.role,onChange:p}),Object(te.jsx)(ee.u,{children:"Role cannot be empty"})]})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Create"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/users/edit/:id",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.userReducer.list})),a=Object(o.c)((function(e){return e.userReducer.user})),s=Object(c.useState)(!0),i=Object(X.a)(s,2),j=i[0],l=i[1],d=Object(c.useState)(!1),b=Object(X.a)(d,2),h=b[0],O=b[1],x=Object(c.useState)(Object(u.a)({},a)),m=Object(X.a)(x,2),f=m[0],g=m[1],v=Object(c.useState)({name:!1,username:!1,role:!1}),y=Object(X.a)(v,2),w=y[0],k=y[1],C=function(e){var t=e.target,n=t.name,c=t.value;g(Object(u.a)(Object(u.a)({},f),{},Object(V.a)({},n,c)))},S=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N(f);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k({name:""==t.name,username:""==t.username,role:""===t.role}),O(null!==t&&0!==Object.values(w).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Re(f,+e.match.params.id));case 2:200===+n.sent?e.history.push("/users/all"):console.log("Something went wrong!!");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){h&&E()}),[w,h]),Object(c.useEffect)((function(){var n=t(function(e,t){return function(n){var c=e.filter((function(e){return e.id===t}));return n({type:p,payload:c[0]}),c[0]}}(r,+e.match.params.id));g(n)}),[t]),Object(c.useEffect)((function(){f&&l(!1)}),[j,f]),console.log("store: ",M.getState()),Object(te.jsx)(te.Fragment,{children:n&&f?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"User Information"})}),Object(te.jsxs)(ee.q,{onSubmit:S,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:w.name,id:"name",name:"name",value:f.name,onChange:C}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"username",children:"Username"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:w.username,id:"username",name:"username",value:f.username,onChange:C}),Object(te.jsx)(ee.u,{children:"Username cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"role",children:"Role"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:w.role,id:"role",name:"role",value:f.role,onChange:C}),Object(te.jsx)(ee.u,{children:"Role cannot be empty"})]})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Save changes"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):n?Object(te.jsx)(Ue.a,{}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!1},{path:"/books",component:ae,exact:!0},{path:"/books/all",component:Fe,exact:!0},{path:"/books/new",component:De,exact:!0},{path:"/books/:id",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.bookReducer.book})),a=Object(c.useState)(!0),s=Object(X.a)(a,2),i=s[0],j=s[1],u=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Oe(+e.match.params.id));case 2:200===+n.sent&&e.history.push("/books/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(de(+e.match.params.id));case 2:200===+n.sent&&j(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){l()}),[i,t]),Object(te.jsx)(te.Fragment,{children:n&&r?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{lg:8,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsxs)(ee.i,{className:"header",children:[Object(te.jsx)("strong",{children:"User Information"}),Object(te.jsxs)("div",{className:"form-actions",children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",onClick:function(){return e.history.push("/books/edit/".concat(r.id))},children:"Update"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:u,children:"Remove"})]})]}),Object(te.jsx)(ee.f,{children:Object(te.jsx)("table",{className:"table table-striped table-hover",children:Object(te.jsx)("tbody",{children:Object.keys(r).map((function(e,t){var n=null;switch(e){case"author":n=r.author.name;break;case"categories":n=r.categories.length?r.categories.reduce((function(e,t){return e.push(t.name),e}),[]).join(","):null;break;default:n=r[e]}return Object(te.jsxs)("tr",{children:[Object(te.jsx)("td",{children:"".concat(e,":")}),Object(te.jsx)("td",{children:Object(te.jsx)("strong",{children:n})})]},t.toString())}))})})})]})})}):n?Object(te.jsx)(Ue.a,{}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/books/edit/:id",component:Ae,exact:!1},{path:"/authors",component:Be,exact:!0},{path:"/authors/all",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authorReducer.list})),r=Object(o.c)((function(e){return e.authReducer.isLogin})),a=Object(o.c)((function(e){return e.authorReducer.pagination})),s=Object(c.useState)(1),i=Object(X.a)(s,2),j=i[0],u=i[1],l=Object(c.useState)(1),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)(!0),x=Object(X.a)(O,2),m=x[0],p=x[1];a&&j!==a.currentPage&&(u(a.currentPage),h(a.totalPages));var f=function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(me(j.toString()));case 2:200!==+e.sent&&0===n.length||p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f()}),[m,t]),Object(c.useEffect)((function(){a&&(u(a.currentPage),h(a.totalPages))}),[a]),Object(te.jsx)(te.Fragment,{children:r?Object(te.jsx)(ee.B,{children:Object(te.jsx)(ee.j,{xl:12,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h1",{children:"Authors List"})}),Object(te.jsx)(ee.f,{children:Object(te.jsx)(ee.l,{items:n,fields:[{key:"name",_classes:"font-weight-bold"},"website","birthday","books"],hover:!0,loading:m,striped:!0,itemsPerPage:10,clickableRows:!0,onRowClick:function(t){return e.history.push("/authors/".concat(t.id))}})}),Object(te.jsx)(ee.g,{children:Object(te.jsx)(Pe,{type:"author",totalPages:b,currentPage:j})})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/authors/new",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(c.useState)(!1),a=Object(X.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)({name:"",website:"",birthday:"",cover:""}),l=Object(X.a)(j,2),d=l[0],b=l[1],h=Object(c.useState)({name:!1,birthday:!1}),O=Object(X.a)(h,2),x=O[0],m=O[1],p=function(e){var t=e.target,n=t.name,c=t.value;b(Object(u.a)(Object(u.a)({},d),{},Object(V.a)({},n,c)))},f=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({name:""===t.name,birthday:""===t.birthday}),i(null!==t&&0!==Object.values(x).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var n=Object(oe.a)(ie.a.mark((function n(){var c;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Object(u.a)(Object(u.a)({},d),{},{cover:null}),n.next=3,t(fe(JSON.stringify(c)));case 3:200===+n.sent&&e.history.push("/authors/all");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){s&&v()}),[x,s]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"Author Information"})}),Object(te.jsxs)(ee.q,{onSubmit:f,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.name,id:"name",name:"name",value:d.name,onChange:p}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"website",children:"Website"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{id:"website",name:"website",value:d.website,onChange:p})})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"birthday",children:"Birthday"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.birthday,id:"birthday",name:"birthday",value:d.birthday,onChange:p}),Object(te.jsx)(ee.u,{children:"Birthday cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"cover",children:"Cover"})}),Object(te.jsx)(ee.j,{xs:"12",md:"9",children:Object(te.jsx)(ee.s,{disabled:!0,id:"birthday",name:"birthday",value:d.cover,onChange:p})})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Create"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/authors/:id",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.authorReducer.author})),a=Object(c.useState)(!0),s=Object(X.a)(a,2),i=s[0],j=s[1],u=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(ve(+e.match.params.id));case 2:200===+n.sent&&e.history.push("/authors/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(pe(+e.match.params.id));case 2:200===+n.sent&&j(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){l()}),[i,t]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h1",{children:"AuthorInfo"}),n&&r?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{lg:8,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsxs)(ee.i,{className:"header",children:[Object(te.jsx)("h1",{children:"User Information"}),Object(te.jsxs)("div",{className:"form-actions",children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",onClick:function(){return e.history.push("/authors/edit/".concat(r.id))},children:"Update"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:u,children:"Remove"})]})]}),Object(te.jsx)(ee.f,{children:Object(te.jsx)("table",{className:"table table-striped table-hover",children:Object(te.jsx)("tbody",{children:Object.keys(r).map((function(e,t){var n="books"===e&&0!==r.books.length?r.books.reduce((function(e,t){return e.push(t.name),e}),[]).join(","):r[e];return Object(te.jsxs)("tr",{children:[Object(te.jsx)("td",{children:"".concat(e,":")}),Object(te.jsx)("td",{children:Object(te.jsx)("strong",{children:n})})]},t.toString())}))})})})]})})}):n?Object(te.jsx)(Ue.a,{}):Object(te.jsx)(Q.a,{to:"/"})]})},exact:!0},{path:"/authors/edit/:id",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.authorReducer.author})),a=Object(c.useState)(!1),s=Object(X.a)(a,2),i=s[0],j=s[1],l=Object(c.useState)(Object(u.a)({},r)),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)({name:!1,birthday:!1}),x=Object(X.a)(O,2),m=x[0],p=x[1],f=r||"",g=(f.name,f.website,f.birthday,f.cover,function(e){var t=e.target,n=t.name,c=t.value;h(Object(u.a)(Object(u.a)({},b),{},Object(V.a)({},n,c)))}),v=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y(b);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({name:""===t.name,birthday:""===t.birthday}),j(null!==t&&0!==Object.values(m).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var n=Object(oe.a)(ie.a.mark((function n(){var c,r;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Object(u.a)(Object(u.a)({},b),{},{cover:null}),n.next=3,t(ge(JSON.stringify(c),+e.match.params.id));case 3:200===+(r=n.sent)&&e.history.push("/authors/all"),console.log("status: ",r);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){i&&w()}),[m,i]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"Author Information"})}),Object(te.jsxs)(ee.q,{onSubmit:v,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.name,id:"name",name:"name",value:b.name,onChange:g}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"birthday",children:"Birthday"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.birthday,id:"birthday",name:"birthday",value:b.birthday,onChange:g}),Object(te.jsx)(ee.u,{children:"Birthday cannot be empty"})]})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Save changes"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/categories",component:Le,exact:!0},{path:"/categories/all",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.categoryReducer.list})),r=Object(o.c)((function(e){return e.authReducer.isLogin})),a=Object(o.c)((function(e){return e.bookReducer.pagination})),s=Object(c.useState)(1),i=Object(X.a)(s,2),j=i[0],u=i[1],l=Object(c.useState)(1),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)(!0),x=Object(X.a)(O,2),m=x[0],p=x[1];a&&j!==a.currentPage&&(u(a.currentPage),h(a.totalPages));var f=function(){var e=Object(oe.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ye(j.toString()));case 2:200!==+e.sent&&0===n.length||p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f()}),[m,t]),Object(c.useEffect)((function(){a&&(u(a.currentPage),h(a.totalPages))}),[a]),Object(te.jsx)(te.Fragment,{children:r?Object(te.jsx)(ee.B,{children:Object(te.jsx)(ee.j,{xl:12,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:"Categories List"}),Object(te.jsx)(ee.f,{children:Object(te.jsx)(ee.l,{items:n,fields:[{key:"name",_classes:"font-weight-bold"},"description"],hover:!0,loading:m,striped:!0,itemsPerPage:10,activePage:j,clickableRows:!0,onRowClick:function(t){return e.history.push("/categories/".concat(t.id))}})}),Object(te.jsx)(ee.g,{children:Object(te.jsx)(Pe,{type:"category",totalPages:b,currentPage:j})})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/categories/new",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(c.useState)(!1),a=Object(X.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)({name:"",description:""}),l=Object(X.a)(j,2),d=l[0],b=l[1],h=Object(c.useState)({name:!1,description:!1}),O=Object(X.a)(h,2),x=O[0],m=O[1],p=function(e){var t=e.target,n=t.name,c=t.value;b(Object(u.a)(Object(u.a)({},d),{},Object(V.a)({},n,c)))},f=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(d);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({name:""===t.name,description:""===t.description}),i(null!==t&&0!==Object.values(x).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(ke(JSON.stringify(d)));case 2:200===+n.sent&&e.history.push("/categories/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){s&&v()}),[x,s]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"category Information"})}),Object(te.jsxs)(ee.q,{onSubmit:f,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.name,id:"name",name:"name",value:d.name,onChange:p}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"description",children:"Description"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:x.description,id:"description",name:"description",value:d.description,onChange:p}),Object(te.jsx)(ee.u,{children:"Description cannot be empty"})]})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Create"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/categories/:id",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.categoryReducer.category})),a=Object(c.useState)(!0),s=Object(X.a)(a,2),i=s[0],j=s[1],u=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Se(+e.match.params.id));case 2:200===+n.sent&&e.history.push("/categories/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(we(+e.match.params.id));case 2:200===+n.sent&&j(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){l()}),[i,t]),Object(te.jsx)(te.Fragment,{children:n&&r?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{lg:8,children:Object(te.jsxs)(ee.e,{children:[Object(te.jsxs)(ee.i,{className:"header",children:[Object(te.jsx)("strong",{children:"Category Information"}),Object(te.jsxs)("div",{className:"form-actions",children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",onClick:function(){return e.history.push("/categories/edit/".concat(r.id))},children:"Update"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:u,children:"Remove"})]})]}),Object(te.jsx)(ee.f,{children:Object(te.jsx)("table",{className:"table table-striped table-hover",children:Object(te.jsx)("tbody",{children:Object.keys(r).map((function(e,t){var n="books"===e&&0!==r.books.length?r.books.reduce((function(e,t){return e.push(t.name),e}),[]).join(","):r[e];return Object(te.jsxs)("tr",{children:[Object(te.jsx)("td",{children:"".concat(e,":")}),Object(te.jsx)("td",{children:Object(te.jsx)("strong",{children:n})})]},t.toString())}))})})})]})})}):n?Object(te.jsx)(Ue.a,{}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!0},{path:"/categories/edit/:id",component:function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.authReducer.isLogin})),r=Object(o.c)((function(e){return e.categoryReducer.category})),a=Object(c.useState)(!1),s=Object(X.a)(a,2),i=s[0],j=s[1],l=Object(c.useState)(Object(u.a)({},r)),d=Object(X.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)({name:!1,description:!1}),x=Object(X.a)(O,2),m=x[0],p=x[1],f=function(e){var t=e.target,n=t.name,c=t.value;h(Object(u.a)(Object(u.a)({},b),{},Object(V.a)({},n,c)))},g=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(b);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(oe.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({name:null===t.name,description:""===t.description}),j(null!==t&&0!==Object.values(m).filter((function(e){return!e})).length);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var n=Object(oe.a)(ie.a.mark((function n(){return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Ce(JSON.stringify(b),+e.match.params.id));case 2:200===+n.sent&&e.history.push("/categories/all");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){i&&y()}),[m,i]),Object(te.jsx)(te.Fragment,{children:n?Object(te.jsx)(ee.B,{className:"justify-content-md-center",children:Object(te.jsx)(ee.j,{xs:"12",sm:"6",children:Object(te.jsxs)(ee.e,{children:[Object(te.jsx)(ee.i,{children:Object(te.jsx)("h2",{children:"Category Information"})}),Object(te.jsxs)(ee.q,{onSubmit:g,children:[Object(te.jsxs)(ee.f,{children:[Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"name",children:"Name"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.name,id:"name",name:"name",value:b.name,onChange:f}),Object(te.jsx)(ee.u,{children:"Name cannot be empty"})]})]}),Object(te.jsxs)(ee.r,{row:!0,children:[Object(te.jsx)(ee.j,{md:"3",children:Object(te.jsx)(ee.v,{htmlFor:"description",children:"Description"})}),Object(te.jsxs)(ee.j,{xs:"12",md:"9",children:[Object(te.jsx)(ee.s,{invalid:m.description,id:"description",name:"description",value:b.description,onChange:f}),Object(te.jsx)(ee.u,{children:"Description cannot be empty"})]})]})]}),Object(te.jsxs)(ee.g,{children:[Object(te.jsx)(ee.d,{type:"submit",size:"md",shape:"pill",color:"info",children:"Save changes"}),Object(te.jsx)(ee.d,{size:"md",shape:"pill",color:"danger",onClick:function(){return e.history.goBack()},children:"Cancel"})]})]})]})})}):Object(te.jsx)(Q.a,{to:"/"})})},exact:!1}],ze=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.authReducer.isLogin}));return Object(te.jsx)(te.Fragment,{children:t?Object(te.jsxs)(ee.y,{expandable:"sm",color:"info",children:[Object(te.jsx)(ee.z,{children:"Book Management"}),Object(te.jsxs)(ee.A,{children:[Object(te.jsx)(ee.x,{to:"/home",children:"Home"}),Object(te.jsxs)(ee.m,{inNav:!0,children:[Object(te.jsx)(ee.p,{color:"primary",children:"User"}),Object(te.jsxs)(ee.o,{children:[Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/users/all",children:"Users"})}),Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/users/new",children:"New User"})})]})]}),Object(te.jsxs)(ee.m,{inNav:!0,children:[Object(te.jsx)(ee.p,{color:"primary",children:"Book"}),Object(te.jsxs)(ee.o,{children:[Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/books/all",children:"Books"})}),Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/books/new",children:"New Book"})})]})]}),Object(te.jsxs)(ee.m,{inNav:!0,children:[Object(te.jsx)(ee.p,{color:"primary",children:"Author"}),Object(te.jsxs)(ee.o,{children:[Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/authors/all",children:"Authors"})}),Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/authors/new",children:"New Author"})})]})]}),Object(te.jsxs)(ee.m,{inNav:!0,children:[Object(te.jsx)(ee.p,{color:"primary",children:"Category"}),Object(te.jsxs)(ee.o,{children:[Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/categories/all",children:"Categories"})}),Object(te.jsx)(ee.n,{children:Object(te.jsx)(ee.x,{className:"text-dark",to:"/categories/new",children:"New Category"})})]})]})]}),Object(te.jsxs)(ee.A,{className:"ml-auto",children:[Object(te.jsxs)(ee.q,{inline:!0,children:[Object(te.jsx)(ee.s,{className:"mr-sm-2",placeholder:"Search",size:"sm"}),Object(te.jsx)(ee.d,{color:"light",className:"my-2 my-sm-0",type:"submit",children:"Search"})]}),t?Object(te.jsx)(ee.x,{className:"text-white",to:"/",onClick:function(){return e((function(e){return localStorage.clear(),e({type:b})}))},children:"Logout"}):Object(te.jsx)(ee.x,{className:"text-white",to:"/",children:"Sign in"})]})]}):null})},_e=(n(193),function(){return Object(te.jsx)("div",{className:"App",children:Object(te.jsxs)(W.a,{children:[Object(te.jsx)(ze,{}),Object(te.jsx)(Q.d,{children:Ie.map((function(e){return Object(te.jsx)(Q.b,{exact:e.exact,path:e.path,component:e.component})}))})]})})});s.a.render(Object(te.jsx)(o.a,{store:M,children:Object(te.jsx)(r.a.StrictMode,{children:Object(te.jsx)(_e,{})})}),document.getElementById("root")),i()},93:function(e,t,n){},94:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.994d8a51.chunk.js.map